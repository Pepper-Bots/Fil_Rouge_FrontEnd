<div class="login-container">
  <!-- Panel gauche avec image dynamique -->
  <div class="left-panel">
    <div class="image-overlay"></div>

      <img
        [src]="connexionType === 'admin'
      ? 'assets/img/connexion-admin.jpg'
      : 'assets/img/connexion-stagiaire.jpg'"
        [alt]="connexionType === 'admin' ? 'Connexion administrateur' : 'Connexion stagiaire'"
        class="connection-image">

    <div class="brand-overlay">
      <h1 class="brand-title">NovaTech Academy</h1>
      <p class="brand-subtitle">Excellence in Technology Education</p>
    </div>
  </div>

  <!-- Panel droit -->
  <div class="right-panel">
    <div class="login-form">
      <h2 class="welcome-text">Bienvenue dans le portail de connexion de NovaTech Academy.</h2>

      <form [formGroup]="loginForm" (ngSubmit)="onSubmit()">
        <div class="form-group">
          <label class="form-label" for="email">Identifiant ou adresse email</label>
          <input
            type="email"
            id="email"
            formControlName="email"
            class="form-input"
            placeholder="Votre identifiant"
            autocomplete="username">
        </div>

        <div class="form-group">
          <label class="form-label" for="password">Votre mot de passe</label>
          <div class="password-wrapper">
            <input
              [type]="showPassword ? 'text' : 'password'"
              id="password"
              formControlName="password"
              class="form-input"
              placeholder="••••••••">
            <button
              type="button"
              class="password-toggle"
              (click)="showPassword = !showPassword">
              {{ showPassword ? 'Hide' : 'Show' }}
            </button>
          </div>
        </div>

        <div class="forgot-password">
          <a routerLink="/mot-de-passe-oublie">Mot de passe oublié?</a>
        </div>

        <button
          type="submit"
          class="login-button"
          [disabled]="loginForm.invalid">
          Se connecter
        </button>
      </form>

      <!-- Affichage des erreurs -->
      <div *ngIf="error() as errorMsg" class="error-message">
        {{ errorMsg }}
      </div>

      <h3 class="first-connection">Première connexion ?</h3>
      <p class="first-connection-text">
        Contactez votre administrateur pour obtenir vos identifiants de connexion et commencer votre parcours d'apprentissage.
      </p>
    </div>
  </div>

  <!-- POPUP première connexion -->
  <app-popup-changement-mdp
    *ngIf="popupVisible"
    [email]="popupEmail"
    (close)="onClosePopup()">
  </app-popup-changement-mdp>
</div>

