<!--Ceci est une directive : on ajoute un comportement à un composant déjà existant pour ne pas tout casser-->
<button mat-raised-button routerLink="/ajout-dossier">
  Ajouter un dossier
</button>


<div class="row">


  @for (dossier of dossiers; track $index) {

    <div class="col-6 mb-4">

      <mat-card appearance="outlined" [class.occasion]="dossier.etat.id == 2 ">
        <mat-card-header>
          <mat-card-title>{{ dossier.nom }}</mat-card-title>
          <mat-card-subtitle>
            <span class="code">{{ dossier.codeArticle }}</span>

            @for (etat of dossier.etats; track $index) {
              <span class="etat" [ngStyle]="{backgroundColor: etat.couleur}">{{ etat.nom }}</span>
            }

          </mat-card-subtitle>
        </mat-card-header>
        <img mat-card-image src="https://picsum.photos/id/{{dossier.id}}/600/400" alt="">
        <mat-card-content>
          <p>
            {{ dossier.description }}
          </p>
        </mat-card-content>
        <mat-card-actions>
          <button mat-button [routerLink]="['/modifier-dossier/', dossier.id]">Editer</button>
          <button mat-button>Supprimer</button>
          <button mat-button>Acheter</button>
        </mat-card-actions>
      </mat-card>

    </div>

  }

</div>

