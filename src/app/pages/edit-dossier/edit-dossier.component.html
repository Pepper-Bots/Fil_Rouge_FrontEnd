<h3 class="text-primary">
  {{ dossierEdite ? "Modifier un dossier stagiaire" : "Créer un dossier stagiaire" }}
</h3>

<form [formGroup]="formulaire" (ngSubmit)="onSubmit()">

  <!-- Code dossier -->
  <mat-form-field>
    <mat-label>Code dossier</mat-label>
    <input matInput formControlName="codeDossier" placeholder="Ex. DOS1234" />
    <mat-error *ngIf="formulaire.get('codeDossier')?.hasError('required')">
      Le code dossier est requis
    </mat-error>
    <mat-error *ngIf="formulaire.get('codeDossier')?.hasError('minlength')">
      Le code dossier doit comporter au moins 2 caractères
    </mat-error>
    <mat-error *ngIf="formulaire.get('codeDossier')?.hasError('maxlength')">
      Le code dossier doit comporter au maximum 10 caractères
    </mat-error>
  </mat-form-field>

  <!-- Statut du dossier -->
  <mat-form-field>
    <mat-label>Statut du dossier</mat-label>
    <mat-select formControlName="statutDossier" [compareWith]="compareId">
      <mat-option *ngFor="let statut of statuts" [value]="statut">
        {{ statut.nomStatut }}
      </mat-option>
    </mat-select>
    <mat-error *ngIf="formulaire.get('statutDossier')?.hasError('required')">
      Le statut du dossier est requis
    </mat-error>
  </mat-form-field>

  <!-- Stagiaire -->
  <mat-form-field>
    <mat-label>Stagiaire</mat-label>
    <mat-select formControlName="stagiaire" [compareWith]="compareId">
      <mat-option *ngFor="let stagiaire of stagiaires" [value]="stagiaire">
        {{ stagiaire.lastName }} {{ stagiaire.firstName }}
      </mat-option>
    </mat-select>
    <mat-error *ngIf="formulaire.get('stagiaire')?.hasError('required')">
      Le stagiaire est requis
    </mat-error>
  </mat-form-field>

  <!-- Formation -->
  <mat-form-field>
    <mat-label>Formation</mat-label>
    <mat-select formControlName="formation" [compareWith]="compareId">
      <mat-option *ngFor="let formation of formations" [value]="formation">
        {{ formation.nom }}
      </mat-option>
    </mat-select>
    <mat-error *ngIf="formulaire.get('formation')?.hasError('required')">
      La formation est requise
    </mat-error>
  </mat-form-field>

  <button type="submit" mat-raised-button color="primary" [disabled]="formulaire.invalid">
    <mat-icon [fontIcon]="dossierEdite ? 'edit' : 'add'"></mat-icon>
    {{ dossierEdite ? "Editer le dossier" : "Ajouter le dossier" }}
  </button>

</form>
